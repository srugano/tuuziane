{% load wagtailimages_tags %}

{# This div is the mount point for our Vue component. 'block.id' is a unique ID from Wagtail. #}
<div id="vue-hero-block-{{ block.id }}"></div>

{# This script tag holds the data from Wagtail, which we'll pass to the Vue component as props. #}
<script type="application/json" id="vue-hero-block-{{ block.id }}-data">
  {
    "title": "{{ self.title }}",
    "text": "{{ self.text|escapejs }}",
    "buttonText": "{{ self.button_text }}",
    "buttonLink": "{{ self.button_link }}",
    "backgroundImageUrl": "{% image self.background_image fill-1920x600 as bg_img %}{{ bg_img.url }}"
  }
</script>
